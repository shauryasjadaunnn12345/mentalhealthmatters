{% extends "base_generic.html" %} 

{% block title %}
<title>Autism Spectrum Disorder (ASD) Test | MindCare</title>
{% endblock title %} 

{% block style %}
<meta name="description" content="Take our scientifically validated autism spectrum disorder test. This self-assessment helps identify ASD traits in adults and teens. Free, confidential, and research-based.">
<meta name="keywords" content="autism test, autism spectrum disorder test, ASD test, autism self-assessment, autism quiz, autism screening, autism traits test, autism diagnosis, autism spectrum test">
<meta name="author" content="MindCare Team">
<link rel="canonical" href="https://mentalhealthmatters.sbs/autism/">

<!-- Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "MedicalWebPage",
  "name": "Autism Spectrum Disorder (ASD) Test",
  "description": "Free online autism spectrum disorder self-assessment test",
  "url": "https://mentalhealthmatters.sbs/autism/",
  "mainEntity": {
    "@type": "MedicalCondition",
    "name": "Autism Spectrum Disorder",
    "possibleTreatment": {
      "@type": "MedicalTherapy",
      "name": "Assessment and Evaluation"
    }
  },
  "provider": {
    "@type": "Organization",
    "name": "MindCare",
    "url": "https://mentalhealthmatters.sbs/"
  }
}
</script>

<style>
:root {
  --primary: #219ebc;
  --primary-dark: #1b8199;
  --secondary: #1d3557;
  --accent: #457b9d;
  --light: #f4fafd;
  --lighter: #f1faff;
  --white: #ffffff;
  --dark: #333;
  --gray: #555;
  --shadow: 0 6px 24px rgba(0,0,0,0.05);
  --radius: 16px;
  --transition: all 0.3s ease;
}

body {
  background-color: var(--light);
  font-family: 'Inter', 'Segoe UI', sans-serif;
  margin: 0;
  padding: 0;
  color: var(--dark);
  line-height: 1.6;
}

.test-wrapper {
  max-width: 800px;
  margin: 2rem auto;
  padding: 2rem;
  background-color: var(--white);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  position: relative;
  overflow: hidden;
}

.test-wrapper::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 5px;
  background: linear-gradient(90deg, var(--primary), var(--accent));
}

.test-header {
  text-align: center;
  margin-bottom: 2.5rem;
}

.test-title {
  color: var(--secondary);
  font-size: 2.5rem;
  font-weight: 800;
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
}

.test-title .icon {
  font-size: 2.5rem;
}

.test-desc {
  font-size: 1.1rem;
  color: var(--gray);
  max-width: 700px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.test-info {
  display: flex;
  justify-content: center;
  gap: 2rem;
  margin-bottom: 2rem;
  flex-wrap: wrap;
}

.info-badge {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  background-color: var(--lighter);
  padding: 0.5rem 1rem;
  border-radius: 50px;
  font-size: 0.9rem;
  color: var(--primary);
  font-weight: 600;
}

.info-badge i {
  font-size: 1.2rem;
}

.progress-container {
  margin-bottom: 2rem;
}

.progress-bar {
  height: 8px;
  background-color: #e9ecef;
  border-radius: 4px;
  overflow: hidden;
}

.progress {
  height: 100%;
  background: linear-gradient(90deg, var(--primary), var(--accent));
  width: 0%;
  transition: width 0.3s ease;
}

.progress-text {
  text-align: center;
  margin-top: 0.5rem;
  font-size: 0.9rem;
  color: var(--gray);
}

.test-form {
  margin-bottom: 2rem;
}

.question-block {
  margin-bottom: 2rem;
  padding: 1.5rem;
  background-color: var(--lighter);
  border-radius: var(--radius);
  border: 1px solid #e0f0f7;
  transition: var(--transition);
}

.question-block:hover {
  box-shadow: 0 4px 12px rgba(33, 158, 188, 0.1);
}

.question-label {
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: 1rem;
  display: block;
  color: var(--secondary);
}

.options {
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
  margin-top: 1rem;
}

.option-item {
  display: flex;
  align-items: center;
  padding: 0.8rem 1rem;
  background-color: var(--white);
  border-radius: 8px;
  cursor: pointer;
  transition: var(--transition);
}

.option-item:hover {
  background-color: #e6f4f8;
}

.option-item input[type="radio"] {
  appearance: none;
  width: 20px;
  height: 20px;
  border: 2px solid #ccc;
  border-radius: 50%;
  margin-right: 1rem;
  position: relative;
  cursor: pointer;
  transition: var(--transition);
}

.option-item input[type="radio"]:checked {
  border-color: var(--primary);
}

.option-item input[type="radio"]:checked::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background-color: var(--primary);
}

.option-item label {
  cursor: pointer;
  font-size: 1rem;
  color: var(--dark);
  flex: 1;
}

.error-text {
  color: #e63946;
  font-size: 0.9rem;
  margin-top: 0.5rem;
  display: flex;
  align-items: center;
  gap: 0.3rem;
}

.form-footer {
  text-align: center;
  margin-top: 2.5rem;
}

.submit-btn {
  background: linear-gradient(135deg, var(--primary), var(--accent));
  color: var(--white);
  border: none;
  padding: 1rem 2.5rem;
  font-size: 1.1rem;
  font-weight: 700;
  border-radius: 50px;
  cursor: pointer;
  transition: var(--transition);
  box-shadow: 0 4px 15px rgba(33, 158, 188, 0.3);
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.submit-btn:hover {
  background: linear-gradient(135deg, var(--primary-dark), var(--accent));
  transform: translateY(-3px);
  box-shadow: 0 6px 20px rgba(33, 158, 188, 0.4);
}

.disclaimer {
  text-align: center;
  font-size: 0.9rem;
  color: var(--gray);
  margin-top: 2rem;
  padding: 1rem;
  background-color: var(--lighter);
  border-radius: var(--radius);
}

.disclaimer i {
  color: var(--primary);
  margin-right: 0.5rem;
}

@media (max-width: 768px) {
  .test-wrapper {
    margin: 1rem;
    padding: 1.5rem;
  }
  
  .test-title {
    font-size: 2rem;
  }
  
  .test-info {
    gap: 1rem;
  }
  
  .question-block {
    padding: 1rem;
  }
  
  .question-label {
    font-size: 1rem;
  }
  
  .option-item {
    padding: 0.6rem 0.8rem;
  }
  
  .submit-btn {
    padding: 0.8rem 2rem;
    font-size: 1rem;
  }
}

@media (max-width: 480px) {
  .test-title {
    font-size: 1.8rem;
    flex-direction: column;
    gap: 0.5rem;
  }
  
  .test-desc {
    font-size: 1rem;
  }
  
  .info-badge {
    font-size: 0.8rem;
    padding: 0.4rem 0.8rem;
  }
}
</style>

<!-- Font Awesome for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
{% endblock %} 

{% block body %}
<div class="test-wrapper">
  <div class="test-header">
    <h1 class="test-title">
      <span class="icon">ðŸ§ </span>
      Autism Spectrum Disorder (ASD) Test
    </h1>
    <p class="test-desc">Please answer the following questions honestly. This self-assessment is designed to evaluate potential ASD traits. Your privacy is respected.</p>
    
    <div class="test-info">
      <div class="info-badge">
        <i class="fas fa-clock"></i>
        <span>5-10 minutes</span>
      </div>
      <div class="info-badge">
        <i class="fas fa-user-shield"></i>
        <span>Completely confidential</span>
      </div>
      <div class="info-badge">
        <i class="fas fa-clipboard-check"></i>
        <span>Research-based</span>
      </div>
    </div>
  </div>
  
  <div class="progress-container">
    <div class="progress-bar">
      <div class="progress" id="progressBar"></div>
    </div>
    <div class="progress-text" id="progressText">Question 1 of {{ form|length }}</div>
  </div>

  <form class="test-form" method="POST" id="asdForm">
    {% csrf_token %}
    
    {% for field in form %}
    <div class="question-block" id="question-{{ forloop.counter }}">
      <label class="question-label" for="{{ field.id_for_label }}">{{ field.label }}</label>
      
      <div class="options">
        {% for choice in field.field.choices %}
        <div class="option-item">
          <input type="radio" id="{{ field.id_for_label }}_{{ forloop.counter }}" name="{{ field.name }}" value="{{ choice.0 }}" {% if forloop.first %}checked{% endif %}>
          <label for="{{ field.id_for_label }}_{{ forloop.counter }}">{{ choice.1 }}</label>
        </div>
        {% endfor %}
      </div>
      
      {% if field.errors %}
      <div class="error-text">
        <i class="fas fa-exclamation-circle"></i>
        {{ field.errors.0 }}
      </div>
      {% endif %}
    </div>
    {% endfor %}
    
    <div class="form-footer">
      <button class="submit-btn" type="submit">
        <i class="fas fa-chart-line"></i>
        Get My Results
      </button>
    </div>
  </form>
  
  <div class="disclaimer">
    <i class="fas fa-info-circle"></i>
    <span>This test is a self-assessment tool and not a diagnostic instrument. Please consult a healthcare professional for a formal diagnosis.</span>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('asdForm');
    const progressBar = document.getElementById('progressBar');
    const progressText = document.getElementById('progressText');
    const questions = document.querySelectorAll('.question-block');
    const totalQuestions = questions.length;
    
    // Update progress bar
    function updateProgress() {
      const answeredQuestions = form.querySelectorAll('input[type="radio"]:checked').length;
      const progressPercentage = (answeredQuestions / totalQuestions) * 100;
      progressBar.style.width = progressPercentage + '%';
      progressText.textContent = `Question ${answeredQuestions} of ${totalQuestions}`;
    }
    
    // Add event listeners to all radio buttons
    const radioButtons = form.querySelectorAll('input[type="radio"]');
    radioButtons.forEach(radio => {
      radio.addEventListener('change', updateProgress);
    });
    
    // Initialize progress bar
    updateProgress();
    
    // Add smooth scrolling to first unanswered question on submit attempt
    form.addEventListener('submit', function(e) {
      const unansweredQuestions = [];
      
      questions.forEach((question, index) => {
        const isChecked = question.querySelector('input[type="radio"]:checked');
        if (!isChecked) {
          unansweredQuestions.push(index);
        }
      });
      
      if (unansweredQuestions.length > 0) {
        e.preventDefault();
        const firstUnanswered = questions[unansweredQuestions[0]];
        firstUnanswered.scrollIntoView({ behavior: 'smooth', block: 'center' });
        
        // Highlight the unanswered question briefly
        firstUnanswered.style.boxShadow = '0 0 0 3px rgba(230, 57, 70, 0.5)';
        setTimeout(() => {
          firstUnanswered.style.boxShadow = '';
        }, 2000);
      }
    });
  });
</script>
{% endblock body %}
